<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruins of Recoil</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
            background: #111;
            color: white;
            text-align: center;
        }
 
        #startScreen, #achievementsScreen, #deathScreen {
            position: fixed;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10;
        }
       
        .hidden {
            display: none !important;
        }
        button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            background: #4a00e0;
            color: white;
            border: none;
            border-radius: 5px;
            transition: 0.3s;
        }
        button:hover {
            background: #8e2de2;
        }
        #gameCanvas {
            background: #222;
            display: block;
        }
        #healthBar, #killsCounter, #boostTimer, #boostText {
            display: none;
        }
        #healthBar {
            position: absolute;
            top: 20px;
            left: 20px;
            width: 200px;
            height: 20px;
            background: black;
            border: 2px solid white;
        }
        #healthFill {
            height: 100%;
            background: red;
            width: 100%;
        }
        #killsCounter {
            position: absolute;
            top: 50px;
            left: 20px;
            font-size: 18px;
        }
        #boostTimer {
            position: absolute;
            top: 80px;
            left: 20px;
            width: 200px;
            height: 10px;
            background: black;
            border: 1px solid white;
        }
        #boostFill {
            height: 100%;
            background: cyan;
            width: 0%;
        }
        #boostText {
            position: absolute;
            top: 92px;
            left: 20px;
            font-size: 12px;
            color: cyan;
        }
        #deathScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <!-- –°—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω -->
    <div id="startScreen">
        <h1>RUINS OF RECOIL</h1>
        <button id="playButton">Play</button>
        <button id="achievementsButton">Achievements</button>
    </div>
 
    <!-- –≠–∫—Ä–∞–Ω –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π -->
    <div id="achievementsScreen" class="hidden">
        <h2>Achievements</h2>
        <ul id="achievementsList">
            <li data-achievement="kill10">üî¥ Kill 10 enemies</li>
            <li data-achievement="kill20">üî¥ Kill 30 enemies</li>
            <li data-achievement="kill50">üî¥ Kill 50 enemies</li>
        </ul>
        <button id="backButton">Back</button>
    </div>
 
    <!-- –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω -->
    <canvas id="gameCanvas"></canvas>
    <div id="healthBar"><div id="healthFill"></div></div>
    <div id="killsCounter">Kills: 0</div>
    <div id="boostTimer"><div id="boostFill"></div></div>
    <div id="boostText"></div>
 
    <!-- –≠–∫—Ä–∞–Ω —Å–º–µ—Ä—Ç–∏ -->
    <div id="deathScreen" class="hidden">
        <h2>You died</h2>
        <div>
            <button id="resurrectButton">Resurrect</button>
            <button id="menuButton">Menu</button>
        </div>
    </div>
 
    <script>
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã
        const config = {
    playerSpeed: 5, // –°–∫–æ—Ä–æ—Å—Ç—å –∏–≥—Ä–æ–∫–∞
    playerHealth: 100,
    bulletDamage: 10,
    enemyHealth: 10,
    enemyDamage: 25,
    enemySpeed: 1,
    enemyRadius: 60, // –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä –≤—Ä–∞–≥–æ–≤
    spawnDelay: 3500,
    invincibilityTime: 1000,
    boostDuration: 10000, // 10 —Å–µ–∫—É–Ω–¥ –¥–µ–π—Å—Ç–≤–∏—è –±—É—Å—Ç–∞
    boostSpawnChance: 0.01, // 1% —à–∞–Ω—Å —Å–ø–∞–≤–Ω–∞ –±—É—Å—Ç–∞ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
    bulletSpeed: 10, // –°–∫–æ—Ä–æ—Å—Ç—å –ø—É–ª—å
    bulletSpeedShotgun: 4, // –°–∫–æ—Ä–æ—Å—Ç—å –ø—É–ª—å –¥–ª—è –¥—Ä–æ–±–æ–≤–∏–∫–∞
};
 
        // –¢–∏–ø—ã –±—É—Å—Ç–æ–≤
        const BOOST_TYPES = {
            MULTISHOT: {
                color: "orange",
                name: "Multishot",
                apply: (player) => {
                    player.upgrades.multishot = true;
                },
                remove: (player) => {
                    player.upgrades.multishot = false;
                }
            },
            PIERCING_SHOT: {
                color: "purple",
                name: "Piercing shot",
                apply: (player) => {
                    player.upgrades.piercing = true;
                },
                remove: (player) => {
                    player.upgrades.piercing = false;
                }
            }
        };
 
        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
        const gameState = {
            player: null,
            enemies: [],
            bullets: [],
            boosts: [],
            kills: 0,
            lastSpawnTime: 0,
            lastBoostSpawnTime: 0,
            isGameOver: false,
            isInvincible: false,
            activeBoost: null,
            boostEndTime: 0,
            keys: {
                w: false,
                a: false,
                s: false,
                d: false,
            },
            mouse: { x: 0, y: 0, isShooting: true },
            achievements: {
                kill10: false,
                kill20: false,
                kill50: false,
            },
            isPaused: false, // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–∞—É–∑—ã
        };
 
        // –≠–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");
        const healthFill = document.getElementById("healthFill");
        const killsCounter = document.getElementById("killsCounter");
        const boostFill = document.getElementById("boostFill");
        const boostText = document.getElementById("boostText");
        const startScreen = document.getElementById("startScreen");
        const healthBar = document.getElementById("healthBar");
        const killCounter = document.getElementById("killsCounter");
        const boostTimer = document.getElementById("boostTimer");
        const boostTextEl = document.getElementById("boostText");
 
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        function initGame() {
            startScreen.classList.add("hidden");
            document.getElementById("deathScreen").classList.add("hidden");
            
            // Show game UI elements
            healthBar.style.display = "block";
            killCounter.style.display = "block";
            boostTimer.style.display = "block";
            boostTextEl.style.display = "block";
            
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
 
            // –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
            gameState.player = {
                x: canvas.width / 2,
                y: canvas.height / 2,
                radius: 15,
                health: config.playerHealth,
                maxHealth: config.playerHealth,
                speed: config.playerSpeed,
                lastShot: 0,
                shootDelay: 300,
                color: "blue",
                isBlinking: false,
                upgrades: {
                    multishot: false,
                    piercing: false,
                },
            };
 
            gameState.enemies = [];
            gameState.bullets = [];
            gameState.boosts = [];
            gameState.kills = 0;
            gameState.isGameOver = false;
            gameState.lastSpawnTime = Date.now();
            gameState.lastBoostSpawnTime = Date.now();
            gameState.activeBoost = null;
 
            killsCounter.textContent = `Kills: 0`;
            healthFill.style.width = "100%";
            boostFill.style.width = "0%";
            boostText.textContent = "";
 
            gameLoop(); // –ó–∞–ø—É—Å–∫ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
        }
 
        // –°–ø–∞–≤–Ω –≤—Ä–∞–≥–∞
        function spawnEnemy() {
            const side = Math.floor(Math.random() * 4);
            let x, y;
           
            if (side === 0) { x = Math.random() * canvas.width; y = -20; }
            else if (side === 1) { x = canvas.width + 20; y = Math.random() * canvas.height; }
            else if (side === 2) { x = Math.random() * canvas.width; y = canvas.height + 20; }
            else { x = -20; y = Math.random() * canvas.height; }
           
            const health = gameState.kills >= 10 ? 20 : config.enemyHealth;
           
            gameState.enemies.push({
                x,
                y,
                radius: config.enemyRadius, // –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä
                health,
                speed: config.enemySpeed,
                damage: config.enemyDamage,
                color: "red",
            });
        }
            
        // –°–ø–∞–≤–Ω –±—É—Å—Ç–∞
        function spawnBoost() {
            const types = Object.keys(BOOST_TYPES);
            const randomType = types[Math.floor(Math.random() * types.length)];
            const boost = BOOST_TYPES[randomType];
           
            gameState.boosts.push({
                x: Math.random() * (canvas.width - 40) + 20,
                y: Math.random() * (canvas.height - 40) + 20,
                radius: 15,
                type: randomType,
                color: boost.color,
            });
        }
 
        // –ê–∫—Ç–∏–≤–∞—Ü–∏—è –±—É—Å—Ç–∞
        function activateBoost(boost) {
            if (gameState.activeBoost) {
                BOOST_TYPES[gameState.activeBoost].remove(gameState.player);
            }
           
            gameState.activeBoost = boost.type;
            gameState.boostEndTime = Date.now() + config.boostDuration;
            BOOST_TYPES[boost.type].apply(gameState.player);
boostText.textContent = BOOST_TYPES[boost.type].name;
           
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞
            updateBoostTimer();
        }
 
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞ –±—É—Å—Ç–∞
        function updateBoostTimer() {
            if (!gameState.activeBoost) return;
           
            const remaining = gameState.boostEndTime - Date.now();
            if (remaining <= 0) {
                BOOST_TYPES[gameState.activeBoost].remove(gameState.player);
                gameState.activeBoost = null;
                boostFill.style.width = "0%";
                boostText.textContent = "";
                return;
            }
           
            const percentage = (remaining / config.boostDuration) * 100;
            boostFill.style.width = `${percentage}%`;
            requestAnimationFrame(updateBoostTimer);
        }
 
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–≥—Ä—ã
        function update() {
            const { player, enemies, bullets, boosts } = gameState;
            const now = Date.now();
           
            // –î–≤–∏–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
            if (gameState.keys.w) {
                gameState.player.y -= gameState.player.speed;
                console.log(`Player moving up: ${gameState.player.y}`);
            }
            if (gameState.keys.s) {
                gameState.player.y += gameState.player.speed;
                console.log(`Player moving down: ${gameState.player.y}`);
            }
            if (gameState.keys.a) {
                gameState.player.x -= gameState.player.speed;
                console.log(`Player moving left: ${gameState.player.x}`);
            }
            if (gameState.keys.d) {
                gameState.player.x += gameState.player.speed;
                console.log(`Player moving right: ${gameState.player.x}`);
            }
           
            // –ì—Ä–∞–Ω–∏—Ü—ã —ç–∫—Ä–∞–Ω–∞
            player.x = Math.max(player.radius, Math.min(canvas.width - player.radius, player.x));
            player.y = Math.max(player.radius, Math.min(canvas.height - player.radius, player.y));
           
            // –°—Ç—Ä–µ–ª—å–±–∞
            if (gameState.mouse.isShooting && now - player.lastShot > player.shootDelay) {
                shoot();
                player.lastShot = now;
            }
           
            // –î–≤–∏–∂–µ–Ω–∏–µ –ø—É–ª—å
            bullets.forEach(bullet => {
                bullet.x += bullet.dx;
                bullet.y += bullet.dy;
            });
           
            // –£–¥–∞–ª–µ–Ω–∏–µ –ø—É–ª—å –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —ç–∫—Ä–∞–Ω–∞
            gameState.bullets = bullets.filter(bullet =>
                bullet.x >= 0 && bullet.x <= canvas.width &&
                bullet.y >= 0 && bullet.y <= canvas.height
            );
           
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ø–∞–¥–∞–Ω–∏—è –≤–æ –≤—Ä–∞–≥–æ–≤
            bullets.forEach(bullet => {
                let hitEnemy = false;
               
                for (let i = enemies.length - 1; i >= 0; i--) {
                    const enemy = enemies[i];
                    const dx = bullet.x - enemy.x;
                    const dy = bullet.y - enemy.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                   
                    if (distance < enemy.radius + bullet.radius) {
                        enemy.health -= bullet.damage;
                        hitEnemy = true;
                       
                        if (enemy.health <= 0) {
                            enemies.splice(i, 1);
                            gameState.kills++;
                            killsCounter.textContent = `Kills: ${gameState.kills}`;
                           
                            if (gameState.kills === 10) {
                                player.maxHealth += 50;
                                player.health = player.maxHealth;
                                healthFill.style.width = "100%";
                            }
                           
                            checkAchievements();
                        }
                       
                        if (!bullet.piercing) break;
                    }
                }
               
                if (hitEnemy && !bullet.piercing) {
                    bullet.toRemove = true;
                }
            });
           
            gameState.bullets = bullets.filter(bullet => !bullet.toRemove);
           
            // –î–≤–∏–∂–µ–Ω–∏–µ –≤—Ä–∞–≥–æ–≤ –∫ –∏–≥—Ä–æ–∫—É
            enemies.forEach(enemy => {
                const angle = Math.atan2(player.y - enemy.y, player.x - enemy.x);
                enemy.x += Math.cos(angle) * enemy.speed;
                enemy.y += Math.sin(angle) * enemy.speed;
               
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è —Å –∏–≥—Ä–æ–∫–æ–º
                if (!gameState.isInvincible) {
                    const dx = player.x - enemy.x;
                    const dy = player.y - enemy.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                   
                    if (distance < player.radius + enemy.radius) {
                        player.health -= enemy.damage;
                        healthFill.style.width = `${(player.health / player.maxHealth) * 100}%`;
                        enemy.toRemove = true;
                       
                        player.isBlinking = true;
                        gameState.isInvincible = true;
                        setTimeout(() => {
                            gameState.isInvincible = false;
                            player.isBlinking = false;
                        }, config.invincibilityTime);
                       
                        if (player.health <= 0) {
                            gameOver();
                        }
                    }
                }
            });
           
            gameState.enemies = enemies.filter(enemy => !enemy.toRemove);
           
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—É—Å—Ç–æ–≤
            for (let i = boosts.length - 1; i >= 0; i--) {
                const boost = boosts[i];
                const dx = player.x - boost.x;
                const dy = player.y - boost.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
               
                if (distance < player.radius + boost.radius) {
                    activateBoost(boost);
                    boosts.splice(i, 1);
                }
            }
           
            // –°–ø–∞–≤–Ω –≤—Ä–∞–≥–æ–≤
            if (now - gameState.lastSpawnTime > config.spawnDelay) {
                const spawnCount = Math.random() > 0.5 ? 1 : 2;
                for (let i = 0; i < spawnCount; i++) spawnEnemy();
                gameState.lastSpawnTime = now;
               
                if (gameState.kills >= 20) {
                    config.spawnDelay = Math.max(500, config.spawnDelay - 100);
                }
            }
           
            // –°–ø–∞–≤–Ω –±—É—Å—Ç–æ–≤
            if (now - gameState.lastBoostSpawnTime > 1500 &&
                Math.random() < config.boostSpawnChance &&
                !gameState.activeBoost) {
                spawnBoost();
                gameState.lastBoostSpawnTime = now;
            }
        }
 
        // –í—ã—Å—Ç—Ä–µ–ª
        function shoot() {
            const { player } = gameState;
            const angle = Math.atan2(
                gameState.mouse.y - player.y,
                gameState.mouse.x - player.x
            );

            const baseBullet = {
                x: player.x,
                y: player.y,
                radius: 5,
                damage: config.bulletDamage,
                color: "yellow",
                piercing: player.upgrades.piercing,
            };

            // –ú—É–ª—å—Ç–∏–≤—ã—Å—Ç—Ä–µ–ª (5 –ø—É–ª—å)
            if (player.upgrades.multishot) {
                const spread = 0.2; // –£–≥–æ–ª –º–µ–∂–¥—É –ø—É–ª—è–º–∏
                for (let i = -2; i <= 2; i++) {
                    gameState.bullets.push({
                        ...baseBullet,
                        dx: Math.cos(angle + i * spread) * config.bulletSpeedShotgun,
                        dy: Math.sin(angle + i * spread) * config.bulletSpeedShotgun,
                    });
                }
            } else {
                // –û–¥–∏–Ω–æ—á–Ω–∞—è –ø—É–ª—è
                gameState.bullets.push({
                    ...baseBullet,
                    dx: Math.cos(angle) * config.bulletSpeed,
                    dy: Math.sin(angle) * config.bulletSpeed,
                });
            }
        }
 
        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞
const playerImage = new Image();
playerImage.src = "MC.png"; // –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ MC.png –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ, —á—Ç–æ –∏ HTML —Ñ–∞–π–ª

// –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–æ–Ω–∞
const backgroundImage = new Image();
backgroundImage.src = "Dungeon_brick_wall_grey.png.png"; // Use your actual file name

// –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–∫–µ–ª–µ—Ç–∞
const skeletonImage = new Image();
skeletonImage.src = "skeleton.png"; // –ò–º—è —Ñ–∞–π–ª–∞ —Å–∫–µ–ª–µ—Ç–∞
 
        // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–≥—Ä—ã
        function render() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw background only during the game
            if (
                startScreen.classList.contains("hidden") &&
                document.getElementById("deathScreen").classList.contains("hidden") &&
                document.getElementById("achievementsScreen").classList.contains("hidden")
            ) {
                ctx.drawImage(backgroundImage, 0, 0, canvas.width, canvas.height);
            }

            const { player, enemies, bullets, boosts } = gameState;
           
            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–≥—Ä–æ–∫–∞
            const facingLeft = gameState.mouse.x < gameState.player.x;

ctx.save();
if (facingLeft) {
    ctx.translate(player.x, player.y);
    ctx.scale(-1, 1);
    ctx.drawImage(
        playerImage,
        -player.radius * 4, // —Å–º–µ—â–µ–Ω–∏–µ –≤–ª–µ–≤–æ, —á—Ç–æ–±—ã —Ü–µ–Ω—Ç—Ä —Å–æ–≤–ø–∞–ª
        -player.radius,
        player.radius * 4,
        player.radius * 4
    );
} else {
    ctx.drawImage(
        playerImage,
        player.x - player.radius,
        player.y - player.radius,
        player.radius * 4,
        player.radius * 4
    );
}
ctx.restore();
           
            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –≤—Ä–∞–≥–æ–≤
            enemies.forEach(enemy => {
                const facingLeft = enemy.x < player.x; // —Ç–µ–ø–µ—Ä—å true, –µ—Å–ª–∏ –≤—Ä–∞–≥ –ª–µ–≤–µ–µ –∏–≥—Ä–æ–∫–∞

                ctx.save();
                if (facingLeft) {
                    ctx.translate(enemy.x, enemy.y);
                    ctx.scale(-1, 1);
                    ctx.drawImage(
                        skeletonImage,
                        -enemy.radius,
                        -enemy.radius,
                        enemy.radius * 2,
                        enemy.radius * 2
                    );
                } else {
                    ctx.drawImage(
                        skeletonImage,
                        enemy.x - enemy.radius,
                        enemy.y - enemy.radius,
                        enemy.radius * 2,
                        enemy.radius * 2
                    );
                }
                ctx.restore();
            });
           
            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ø—É–ª—å
            ctx.fillStyle = "yellow";
            bullets.forEach(bullet => {
                ctx.beginPath();
                ctx.arc(bullet.x, bullet.y, bullet.radius, 0, Math.PI * 2);
                ctx.fill();
            });
           
            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –±—É—Å—Ç–æ–≤
            boosts.forEach(boost => {
                ctx.fillStyle = boost.color;
                ctx.beginPath();
                ctx.arc(boost.x, boost.y, boost.radius, 0, Math.PI * 2);
                ctx.fill();
               
                // –û–±–≤–æ–¥–∫–∞ –¥–ª—è –ª—É—á—à–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏
                ctx.strokeStyle = "white";
                ctx.lineWidth = 2;
                ctx.stroke();
            });
 
            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ "Paused"
    if (gameState.isPaused) {
        ctx.fillStyle = "white";
        ctx.font = "48px Arial";
        ctx.textAlign = "center";
        ctx.fillText("Paused", canvas.width / 2, canvas.height / 2);
    }
        }
 
        // –ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
        function gameLoop() {
            if (gameState.isPaused || gameState.isGameOver) {
        return; // –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª, –µ—Å–ª–∏ –∏–≥—Ä–∞ –Ω–∞ –ø–∞—É–∑–µ –∏–ª–∏ –æ–∫–æ–Ω—á–µ–Ω–∞
    }

    update();
    render();
    requestAnimationFrame(gameLoop);
        }
 
        // –ö–æ–Ω–µ—Ü –∏–≥—Ä—ã
        function gameOver() {
            gameState.isGameOver = true;
            
            // Hide game UI elements
            healthBar.style.display = "none";
            killCounter.style.display = "none";
            boostTimer.style.display = "none";
            boostTextEl.style.display = "none";
            
            document.getElementById("deathScreen").classList.remove("hidden");
        }
 
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
        function checkAchievements() {
            const { kills, achievements } = gameState;
           
            if (kills >= 10 && !achievements.kill10) {
                achievements.kill10 = true;
                document.querySelector('[data-achievement="kill10"]').textContent = "‚úÖ Kill 10 enemies";
            }
            if (kills >= 20 && !achievements.kill20) {
                achievements.kill20 = true;
                document.querySelector('[data-achievement="kill20"]').textContent = "‚úÖ Kill 30 enemies";
            }
            if (kills >= 50 && !achievements.kill50) {
                achievements.kill50 = true;
                document.querySelector('[data-achievement="kill50"]').textContent = "‚úÖ Kill 50 enemies";
            }
        }
 
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        document.addEventListener("keydown", (e) => {
            const key = e.key.toLowerCase();
            if (key === "escape") {
                gameState.isPaused = !gameState.isPaused;
                if (gameState.isPaused) {
                    console.log("Game paused");
                } else {
                    console.log("Game resumed");
                    gameLoop(); // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
                }
            }
            if (gameState.isPaused) return; // –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –∫–ª–∞–≤–∏—à–∏, –µ—Å–ª–∏ –∏–≥—Ä–∞ –Ω–∞ –ø–∞—É–∑–µ
 
            console.log(`Key down: ${key}`); // –ü—Ä–æ–≤–µ—Ä–∫–∞
            if (key === "w" || key === "—Ü") gameState.keys.w = true;
            if (key === "a" || key === "—Ñ") gameState.keys.a = true;
            if (key === "s" || key === "—ã") gameState.keys.s = true;
            if (key === "d" || key === "–≤") gameState.keys.d = true;
        });
 
        document.addEventListener("keyup", (e) => {
            const key = e.key.toLowerCase();
            console.log(`Key up: ${key}`); // –ü—Ä–æ–≤–µ—Ä–∫–∞
            if (key === "w" || key === "—Ü") gameState.keys.w = false;
            if (key === "a" || key === "—Ñ") gameState.keys.a = false;
            if (key === "s" || key === "—ã") gameState.keys.s = false;
            if (key === "d" || key === "–≤") gameState.keys.d = false;
        });
 
        canvas.addEventListener("mousemove", (e) => {
            const rect = canvas.getBoundingClientRect();
            gameState.mouse.x = e.clientX - rect.left;
            gameState.mouse.y = e.clientY - rect.top;
        });
 

       
        // –ö–Ω–æ–ø–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        document.getElementById("playButton").addEventListener("click", initGame);
        document.getElementById("achievementsButton").addEventListener("click", () => {
            document.getElementById("startScreen").classList.add("hidden");
            document.getElementById("achievementsScreen").classList.remove("hidden");
        });
        document.getElementById("backButton").addEventListener("click", () => {
            document.getElementById("achievementsScreen").classList.add("hidden");
            document.getElementById("startScreen").classList.remove("hidden");
        });
        document.getElementById("resurrectButton").addEventListener("click", initGame);
        document.getElementById("menuButton").addEventListener("click", returnToMenu);

        function returnToMenu() {
            gameState.isGameOver = true;
            gameState.enemies = [];
            gameState.bullets = [];
            gameState.boosts = [];
            gameState.activeBoost = null;
            gameState.kills = 0;
            gameState.achievements = {
                kill10: false,
                kill20: false,
                kill50: false,
            };

            // Hide game UI elements
            healthBar.style.display = "none";
            killCounter.style.display = "none";
            killsCounter.textContent = "Kills: 0";
            boostTimer.style.display = "none";
            boostTextEl.style.display = "none";

            document.getElementById("deathScreen").classList.add("hidden");
            document.getElementById("startScreen").classList.remove("hidden");

            // Reset UI bars
            healthFill.style.width = "100%";
            boostText.textContent = "";
            boostFill.style.width = "0%";
        }
    </script>
    </body>
</html>